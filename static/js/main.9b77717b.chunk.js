(this.webpackJsonpkinopoisk=this.webpackJsonpkinopoisk||[]).push([[0],{10:function(e,a,t){e.exports={searchContainerWrapper:"SearchNavi_searchContainerWrapper__16OfZ",alignWrap:"SearchNavi_alignWrap__1sGvP",searchWrap:"SearchNavi_searchWrap__2rm8s",searchContainer:"SearchNavi_searchContainer__1BfW7",searchNavi:"SearchNavi_searchNavi__2mbG-",searchInput:"SearchNavi_searchInput__2LD-k",inputStyle:"SearchNavi_inputStyle__1QK3b",inputWrap:"SearchNavi_inputWrap__3GLhq",buttonWrap:"SearchNavi_buttonWrap__3X7qJ",reset:"SearchNavi_reset__3XkoJ",select:"SearchNavi_select__k6Ilt",tagline:"SearchNavi_tagline__3yuPF",taglineBack:"SearchNavi_taglineBack__3RNmU",logoInfo:"SearchNavi_logoInfo__2fvoi",summaryError:"SearchNavi_summaryError__tvKG0"}},119:function(e,a,t){e.exports=t.p+"static/media/739.96ba406b.gif"},120:function(e,a,t){e.exports={preloader:"Preloader_preloader__17wb4"}},123:function(e,a,t){e.exports={error:"FormsContols_error__XHgyJ"}},151:function(e,a,t){e.exports=t(279)},157:function(e,a,t){},158:function(e,a,t){},159:function(e,a,t){},20:function(e,a,t){e.exports={searchPage:"SearchPage_searchPage__3ef9t",filmsBlockWrapper:"SearchPage_filmsBlockWrapper__2H7NI",filmsBlock:"SearchPage_filmsBlock__3mb1K",pagination:"SearchPage_pagination__38B2z",paginationWrap:"SearchPage_paginationWrap__2XeyG",selectedPage:"SearchPage_selectedPage__2Eu5W",startMessage:"SearchPage_startMessage__2g3fF"}},279:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(55),o=t.n(i),c=(t(156),t(157),t(158),t(26)),l=t(31),s=(t(159),t(23)),m=t(24),p=t(28),u=t(25),f=t(29),g=t(18),h=t(79),_=t.n(h),d=t(117),E=t(118).create({baseURL:"https://www.omdbapi.com"}),v=function(e,a,t){return E.get("/?apikey=711ef504&s=".concat(e,"&y=").concat(a,"&page=").concat(t))},b=function(e){return E.get("/?apikey=bcb1b6a3&i=".concat(e))},N=t(56);function P(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?P(t,!0).forEach((function(a){Object(d.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var F={films:[],profile:{},isFetching:!1,pageSize:10,totalFilmsCount:0,currentPage:1,year:"Select year",filmName:""},O=function(e){return{type:"SET_FILMS",films:e}},S=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},k=function(e){return{type:"CURRENT_PAGE_CLICK",currentPage:e}},C=t(119),I=t.n(C),j=t(120),D=t.n(j);var T=function(){return r.a.createElement("div",{className:D.a.preloader},r.a.createElement("img",{src:I.a,alt:""}))},w=function(e){function a(){return Object(s.a)(this,a),Object(p.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.filmId;this.props.setFilmId(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:_.a.detail},this.props.isFetching?r.a.createElement(T,null):null,r.a.createElement("div",null,r.a.createElement("h1",null,this.props.profile.Title),r.a.createElement("div",null,r.a.createElement("b",null,"Year")," - ",this.props.profile.Year),r.a.createElement("div",null,r.a.createElement("b",null,"Runtime")," - ",this.props.profile.Runtime),r.a.createElement("div",null,r.a.createElement("b",null,"BoxOffice")," - ",this.props.profile.BoxOffice),r.a.createElement("div",null,r.a.createElement("b",null,"Actors")," - ",this.props.profile.Actors)),r.a.createElement("div",null,r.a.createElement("img",{src:"N/A"!==this.props.profile.Poster?this.props.profile.Poster:"https://serial-go.com/uploads/no_poster.jpg",alt:""})),r.a.createElement(c.b,{className:_.a.back,to:"/search"},"Back"))}}]),a}(n.Component),W=Object(l.e)(w),Y=Object(g.b)((function(e){return{profile:e.filmsPagesPage.profile,films:e.filmsPagesPage.films,isFetching:e.filmsPagesPage.isFetching}}),(function(e){return{toggleIsFetching:function(a){e(S(a))},setFilmId:function(a){e(function(e){return function(a){a(S(!0)),b(e).then((function(e){a(S(!1)),a({type:"GET_FILM",film:e.data})}))}}(a))}}}))(W),G=t(20),A=t.n(G),V=t(32),B=t.n(V);var L=function(e){return r.a.createElement("div",{className:B.a.filmsContainer},r.a.createElement(c.b,{to:"/detail/"+e.imdbID},r.a.createElement("div",{className:B.a.filmsAlign},r.a.createElement("div",{className:B.a.filmPoster},r.a.createElement("img",{src:"N/A"!==e.Poster?e.Poster:"https://serial-go.com/uploads/no_poster.jpg",alt:"poster"})),r.a.createElement("div",{className:B.a.frontInfo},r.a.createElement("div",{className:B.a.title},e.Title)),r.a.createElement("div",{className:B.a.frontInfoYear},r.a.createElement("div",{className:B.a.yearTitle},e.Year)))))},R=t(113),M=t(114),x=t(10),J=t.n(x),U=function(e){if(!e)return"Please enter a movie"},z=t(122),H=t(123),K=t.n(H),X=function(e){var a=e.input,t=e.meta,n=Object(z.a)(e,["input","meta"]),i=t.touched&&t.error;return r.a.createElement("div",{className:i?K.a.error:""},r.a.createElement("div",null,r.a.createElement("input",Object.assign({},a,n))),i&&r.a.createElement("span",null,t.error))},q=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={optionsData:[{id:0,optionValue:"Select year",optionData:"Select year"},{id:1,optionValue:"1998",optionData:1998},{id:2,optionValue:"1999",optionData:1999},{id:3,optionValue:"2000",optionData:2e3},{id:4,optionValue:"2001",optionData:2001},{id:5,optionValue:"2002",optionData:2002},{id:6,optionValue:"2003",optionData:2003},{id:7,optionValue:"2004",optionData:2004},{id:8,optionValue:"2006",optionData:2005},{id:9,optionValue:"2007",optionData:2007},{id:10,optionValue:"2008",optionData:2008},{id:11,optionValue:"2009",optionData:2009},{id:12,optionValue:"2010",optionData:2010},{id:13,optionValue:"2011",optionData:2011},{id:14,optionValue:"2012",optionData:2012},{id:15,optionValue:"2013",optionData:2013},{id:16,optionValue:"2014",optionData:2014}]},t.searchFilm=function(e){var a=e.currentTarget.value;t.props.getFilmName(a)},t.searchYear=function(e){var a=e.currentTarget.value;t.props.getYear(a)},t.onSearchFilmClick=function(){t.props.searchFilmClick()},t}return Object(f.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.state.optionsData.map((function(e){return r.a.createElement("option",{key:e.id,value:e.optionValue},e.optionData)}));return r.a.createElement("form",{className:J.a.alignWrap,onSubmit:this.props.handleSubmit},r.a.createElement("div",{className:J.a.searchWrap},r.a.createElement("div",{className:J.a.logoInfo},r.a.createElement(c.b,{to:"/search"},r.a.createElement("span",{className:J.a.tagline},"Choose a movie"),r.a.createElement("span",{className:J.a.taglineBack},"for the evening"))),r.a.createElement("div",{className:J.a.searchInput},r.a.createElement("div",{className:J.a.inputWrap},r.a.createElement(R.a,{className:J.a.inputStyle,name:"search",type:"text",component:X,placeholder:"enter film",onChange:this.searchFilm,validate:U}),this.props.error&&r.a.createElement("div",{className:J.a.summaryError},this.props.error))),r.a.createElement("div",null,r.a.createElement("button",{className:J.a.buttonWrap,onClick:this.onSearchFilmClick},"Search")),r.a.createElement("div",null,r.a.createElement(R.a,{onChange:this.searchYear,className:J.a.select,name:"filmYear",component:"select",id:""},e))),r.a.createElement("div",null,r.a.createElement("button",{className:J.a.reset,onClick:this.props.reset},"Reset")))}}]),a}(n.Component),Q=Object(M.a)({form:"login"})(q),Z=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).onSubmit=function(e){console.log(e)},t}return Object(f.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:J.a.searchContainerWrapper},r.a.createElement("div",{className:J.a.searchContainer},r.a.createElement(Q,{onSubmit:this.onSubmit,getYear:this.props.getYear,getFilmName:this.props.getFilmName,searchFilmClick:this.props.searchFilmClick})))}}]),a}(n.Component),$=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).searchFilmClick=function(){t.props.getFilmsData(t.props.filmName,t.props.year,t.props.currentPage)},t.getYear=function(e){t.props.getYear(e)},t.getFilmName=function(e){t.props.getFilmName(e)},t.currentPageClick=function(e){t.props.setPage(t.props.filmName,t.props.year,e)},t}return Object(f.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){for(var e=this,a=this.props.totalFilmsCount/this.props.pageSize,t=[],n=1;n<=a;n++)t.push(n);var i=this.props.films,o=void 0===i?[]:i,c=o.map((function(e){return r.a.createElement(L,{key:e.imdbID,imdbID:e.imdbID,Title:e.Title,Year:e.Year,Poster:e.Poster})}));return r.a.createElement("div",{className:A.a.searchPage},this.props.isFetching?r.a.createElement(T,null):null,r.a.createElement("div",{className:A.a.search},r.a.createElement(Z,{searchFilmClick:this.searchFilmClick,resetSettings:this.resetSettings,getYear:this.getYear,getFilmName:this.getFilmName}),r.a.createElement("div",{className:A.a.filmsBlockWrapper},0===o.length?r.a.createElement("h1",{className:A.a.startMessage},"Please enter film name"):"",r.a.createElement("div",{className:A.a.filmsBlock},c),0!==o.length?r.a.createElement("div",{className:A.a.paginationWrap},r.a.createElement("div",{className:A.a.pagination},t.map((function(a){return r.a.createElement("span",{key:a,onClick:function(){e.currentPageClick(a)},className:e.props.currentPage===a?A.a.selectedPage:""},a)})))):"")))}}]),a}(n.Component),ee=Object(g.b)((function(e){return{films:e.filmsPagesPage.films,isFetching:e.filmsPagesPage.isFetching,pageSize:e.filmsPagesPage.pageSize,totalFilmsCount:e.filmsPagesPage.totalFilmsCount,currentPage:e.filmsPagesPage.currentPage,year:e.filmsPagesPage.year,filmName:e.filmsPagesPage.filmName}}),(function(e){return{toggleIsFetching:function(a){e(S(a))},currentPageClick:function(a){e(k(a))},getYear:function(a){e(function(e){return{type:"GET_YEAR",year:e}}(a))},getFilmName:function(a){e(function(e){return{type:"GET_FILM_NAME",filmName:e}}(a))},getFilmsData:function(a,t,n){e(function(e,a,t){return function(n){n(S(!0)),v(e,a,t).then((function(e){n(S(!1)),"True"===e.data.Response&&(n(O(e.data.Search)),n({type:"SET_TOTAL_PAGE_COUNT",count:e.data.totalResults})),"False"===e.data.Response&&"Too many results."===e.data.Error&&n(Object(N.a)("login",{_error:"Film not found"}))}))}}(a,t,n))},setPage:function(a,t,n){e(function(e,a,t){return function(n){n(S(!0)),n(k(t)),v(e,a,t).then((function(e){n(S(!1)),n(O(e.data.Search))}))}}(a,t,n))}}}))($);var ae=function(){return r.a.createElement(c.a,null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement(l.a,{exact:!0,path:"/",component:ee}),r.a.createElement(l.a,{path:"/detail/:filmId?",component:Y}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=t(7),ne=t(115),re=t(125),ie=Object(te.c)({filmsPagesPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_FILMS":return y({},e,{films:a.films});case"GET_FILM":return y({},e,{profile:a.film});case"TOGGLE_IS_FETCHING":return y({},e,{isFetching:a.isFetching});case"CURRENT_PAGE_CLICK":return y({},e,{currentPage:a.currentPage});case"GET_YEAR":return y({},e,{year:a.year});case"GET_FILM_NAME":return y({},e,{filmName:a.filmName});case"SET_TOTAL_PAGE_COUNT":return y({},e,{totalFilmsCount:a.count});default:return e}},form:ne.a}),oe=Object(te.d)(ie,Object(te.a)(re.a));o.a.render(r.a.createElement(g.a,{store:oe},r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,a,t){e.exports={filmsContainer:"FilmItem_filmsContainer__139wN",filmsAlign:"FilmItem_filmsAlign__2sTQl",frontInfo:"FilmItem_frontInfo__sZwlM",frontInfoYear:"FilmItem_frontInfoYear__3vcdN",filmPoster:"FilmItem_filmPoster__2IsDu",title:"FilmItem_title__2dm-j",yearTitle:"FilmItem_yearTitle__1Yq-J"}},79:function(e,a,t){e.exports={detail:"DetailsPage_detail__3SYna",back:"DetailsPage_back__3wIH4"}}},[[151,1,2]]]);
//# sourceMappingURL=main.9b77717b.chunk.js.map