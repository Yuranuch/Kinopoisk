(this.webpackJsonpkinopoisk=this.webpackJsonpkinopoisk||[]).push([[0],{10:function(e,t,a){e.exports={searchContainerWrapper:"SearchNavi_searchContainerWrapper__16OfZ",alignWrap:"SearchNavi_alignWrap__1sGvP",searchWrap:"SearchNavi_searchWrap__2rm8s",searchContainer:"SearchNavi_searchContainer__1BfW7",searchNavi:"SearchNavi_searchNavi__2mbG-",searchInput:"SearchNavi_searchInput__2LD-k",inputStyle:"SearchNavi_inputStyle__1QK3b",inputWrap:"SearchNavi_inputWrap__3GLhq",buttonWrap:"SearchNavi_buttonWrap__3X7qJ",reset:"SearchNavi_reset__3XkoJ",select:"SearchNavi_select__k6Ilt",tagline:"SearchNavi_tagline__3yuPF",taglineBack:"SearchNavi_taglineBack__3RNmU",logoInfo:"SearchNavi_logoInfo__2fvoi",summaryError:"SearchNavi_summaryError__tvKG0"}},119:function(e,t,a){e.exports=a.p+"static/media/739.96ba406b.gif"},120:function(e,t,a){e.exports={preloader:"Preloader_preloader__17wb4"}},123:function(e,t,a){e.exports={error:"FormsContols_error__XHgyJ"}},151:function(e,t,a){e.exports=a(279)},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},25:function(e,t,a){e.exports={searchPage:"SearchPage_searchPage__3ef9t",filmsBlockWrapper:"SearchPage_filmsBlockWrapper__2H7NI",filmsBlock:"SearchPage_filmsBlock__3mb1K",pagination:"SearchPage_pagination__38B2z",paginationWrap:"SearchPage_paginationWrap__2XeyG",selectedPage:"SearchPage_selectedPage__2Eu5W",startMessage:"SearchPage_startMessage__2g3fF"}},279:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(55),o=a.n(i),c=(a(156),a(157),a(158),a(18)),l=a(19),s=a(22),m=a(20),p=a(23),u=a(31),f=a(28),h=(a(159),a(21)),g=a(79),_=a.n(g),v=a(117),E=a(118).create({baseURL:"https://www.omdbapi.com"}),d=function(e,t,a){return E.get("/?apikey=711ef504&s=".concat(e,"&y=").concat(t,"&page=").concat(a))},b=function(e){return E.get("/?apikey=bcb1b6a3&i=".concat(e))},N=a(56);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={films:[],profile:{},isFetching:!1,pageSize:10,totalFilmsCount:0,currentPage:1,year:"Select year",filmName:""},F=function(e){return{type:"SET_FILMS",films:e}},S=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},j=function(e){return{type:"CURRENT_PAGE_CLICK",currentPage:e}},k=a(119),C=a.n(k),I=a(120),D=a.n(I);var T=function(){return r.a.createElement("div",{className:D.a.preloader},r.a.createElement("img",{src:C.a,alt:""}))},w=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.filmId;this.props.setFilmId(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:_.a.detail},this.props.isFetching?r.a.createElement(T,null):null,r.a.createElement("div",null,r.a.createElement("h1",null,this.props.profile.Title),r.a.createElement("div",null,r.a.createElement("b",null,"Year")," - ",this.props.profile.Year),r.a.createElement("div",null,r.a.createElement("b",null,"Runtime")," - ",this.props.profile.Runtime),r.a.createElement("div",null,r.a.createElement("b",null,"BoxOffice")," - ",this.props.profile.BoxOffice),r.a.createElement("div",null,r.a.createElement("b",null,"Actors")," - ",this.props.profile.Actors)),r.a.createElement("div",null,r.a.createElement("img",{src:"N/A"!==this.props.profile.Poster?this.props.profile.Poster:"https://serial-go.com/uploads/no_poster.jpg",alt:""})),r.a.createElement(f.b,{className:_.a.back,to:"/search"},"Back"))}}]),t}(n.Component),W=Object(u.f)(w),Y=Object(h.b)((function(e){return{profile:e.filmsPagesPage.profile,films:e.filmsPagesPage.films,isFetching:e.filmsPagesPage.isFetching}}),(function(e){return{toggleIsFetching:function(t){e(S(t))},setFilmId:function(t){e(function(e){return function(t){t(S(!0)),b(e).then((function(e){t(S(!1)),t({type:"GET_FILM",film:e.data})}))}}(t))}}}))(W),A=a(25),G=a.n(A),V=a(32),B=a.n(V);var R=function(e){return r.a.createElement("div",{className:B.a.filmsContainer},r.a.createElement(f.b,{to:"/detail/"+e.imdbID},r.a.createElement("div",{className:B.a.filmsAlign},r.a.createElement("div",{className:B.a.filmPoster},r.a.createElement("img",{src:"N/A"!==e.Poster?e.Poster:"https://serial-go.com/uploads/no_poster.jpg"})),r.a.createElement("div",{className:B.a.frontInfo},r.a.createElement("div",{className:B.a.title},e.Title)),r.a.createElement("div",{className:B.a.frontInfoYear},r.a.createElement("div",{className:B.a.yearTitle},e.Year)))))},L=a(113),M=a(114),x=a(10),J=a.n(x),U=function(e){if(!e)return"Please enter a movie"},z=a(122),H=a(123),K=a.n(H),X=function(e){var t=e.input,a=e.meta,n=Object(z.a)(e,["input","meta"]),i=a.touched&&a.error;return r.a.createElement("div",{className:i?K.a.error:""},r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,n))),i&&r.a.createElement("span",null,a.error))},q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={optionsData:[{optionValue:"Select year",optionData:"Select year"},{optionValue:"1998",optionData:1998},{optionValue:"1999",optionData:1999},{optionValue:"2000",optionData:2e3},{optionValue:"2001",optionData:2001},{optionValue:"2002",optionData:2002},{optionValue:"2003",optionData:2003},{optionValue:"2004",optionData:2004},{optionValue:"2006",optionData:2005},{optionValue:"2007",optionData:2007},{optionValue:"2008",optionData:2008},{optionValue:"2009",optionData:2009},{optionValue:"2010",optionData:2010},{optionValue:"2011",optionData:2011},{optionValue:"2012",optionData:2012},{optionValue:"2013",optionData:2013},{optionValue:"2014",optionData:2014}]},a.searchFilm=function(e){var t=e.currentTarget.value;a.props.getFilmName(t)},a.searchYear=function(e){var t=e.currentTarget.value;a.props.getYear(t)},a.onSearchFilmClick=function(){a.props.searchFilmClick()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.optionsData.map((function(e){return r.a.createElement("option",{value:e.optionValue},e.optionData)}));return r.a.createElement("form",{className:J.a.alignWrap,onSubmit:this.props.handleSubmit},r.a.createElement("div",{className:J.a.searchWrap},r.a.createElement("div",{className:J.a.logoInfo},r.a.createElement(f.b,{to:"/search"},r.a.createElement("span",{className:J.a.tagline},"Choose a movie"),r.a.createElement("span",{className:J.a.taglineBack},"for the evening"))),r.a.createElement("div",{className:J.a.searchInput},r.a.createElement("div",{className:J.a.inputWrap},r.a.createElement(L.a,{className:J.a.inputStyle,name:"search",type:"text",component:X,placeholder:"enter film",onChange:this.searchFilm,validate:U}),this.props.error&&r.a.createElement("div",{className:J.a.summaryError},this.props.error))),r.a.createElement("div",null,r.a.createElement("button",{className:J.a.buttonWrap,onClick:this.onSearchFilmClick},"Search")),r.a.createElement("div",null,r.a.createElement(L.a,{onChange:this.searchYear,className:J.a.select,name:"filmYear",component:"select",id:""},e))),r.a.createElement("div",null,r.a.createElement("button",{className:J.a.reset,onClick:this.props.reset},"Reset")))}}]),t}(n.Component),Q=Object(M.a)({form:"login"})(q),Z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){console.log(e)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:J.a.searchContainerWrapper},r.a.createElement("div",{className:J.a.searchContainer},r.a.createElement(Q,{onSubmit:this.onSubmit,getYear:this.props.getYear,getFilmName:this.props.getFilmName,searchFilmClick:this.props.searchFilmClick})))}}]),t}(n.Component),$=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).searchFilmClick=function(){a.props.getFilmsData(a.props.filmName,a.props.year,a.props.currentPage)},a.getYear=function(e){a.props.getYear(e)},a.getFilmName=function(e){a.props.getFilmName(e)},a.currentPageClick=function(e){a.props.setPage(a.props.filmName,a.props.year,e)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props.totalFilmsCount/this.props.pageSize,a=[],n=1;n<=t;n++)a.push(n);var i=this.props.films,o=void 0===i?[]:i,c=o.map((function(e){return r.a.createElement(R,{imdbID:e.imdbID,Title:e.Title,Year:e.Year,Poster:e.Poster})}));return r.a.createElement("div",{className:G.a.searchPage},this.props.isFetching?r.a.createElement(T,null):null,r.a.createElement("div",{className:G.a.search},r.a.createElement(Z,{searchFilmClick:this.searchFilmClick,resetSettings:this.resetSettings,getYear:this.getYear,getFilmName:this.getFilmName}),r.a.createElement("div",{className:G.a.filmsBlockWrapper},0===o.length?r.a.createElement("h1",{className:G.a.startMessage},"Please enter film name"):"",r.a.createElement("div",{className:G.a.filmsBlock},c),0!==o.length?r.a.createElement("div",{className:G.a.paginationWrap},r.a.createElement("div",{className:G.a.pagination},a.map((function(t){return r.a.createElement("span",{onClick:function(){e.currentPageClick(t)},className:e.props.currentPage===t&&G.a.selectedPage},t)})))):"")))}}]),t}(n.Component),ee=Object(h.b)((function(e){return{films:e.filmsPagesPage.films,isFetching:e.filmsPagesPage.isFetching,pageSize:e.filmsPagesPage.pageSize,totalFilmsCount:e.filmsPagesPage.totalFilmsCount,currentPage:e.filmsPagesPage.currentPage,year:e.filmsPagesPage.year,filmName:e.filmsPagesPage.filmName}}),(function(e){return{toggleIsFetching:function(t){e(S(t))},currentPageClick:function(t){e(j(t))},getYear:function(t){e(function(e){return{type:"GET_YEAR",year:e}}(t))},getFilmName:function(t){e(function(e){return{type:"GET_FILM_NAME",filmName:e}}(t))},getFilmsData:function(t,a,n){e(function(e,t,a){return function(n){n(S(!0)),d(e,t,a).then((function(e){n(S(!1)),"True"===e.data.Response&&(n(F(e.data.Search)),n({type:"SET_TOTAL_PAGE_COUNT",count:e.data.totalResults})),"False"===e.data.Response&&"Too many results."===e.data.Error&&n(Object(N.a)("login",{_error:"Film not found"}))}))}}(t,a,n))},setPage:function(t,a,n){e(function(e,t,a){return function(n){n(S(!0)),n(j(a)),d(e,t,a).then((function(e){n(S(!1)),n(F(e.data.Search))}))}}(t,a,n))}}}))($),te=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={redirect:!0},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(u.a,{to:"/search"})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("div",{className:"wrapper"},this.renderRedirect(),r.a.createElement("div",{className:"content"},r.a.createElement(u.b,{path:"/search",component:ee}),r.a.createElement(u.b,{path:"/detail/:filmId?",component:Y}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=a(7),ne=a(115),re=a(125),ie=Object(ae.c)({filmsPagesPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILMS":return y({},e,{films:t.films});case"GET_FILM":return y({},e,{profile:t.film});case"TOGGLE_IS_FETCHING":return y({},e,{isFetching:t.isFetching});case"CURRENT_PAGE_CLICK":return y({},e,{currentPage:t.currentPage});case"GET_YEAR":return y({},e,{year:t.year});case"GET_FILM_NAME":return y({},e,{filmName:t.filmName});case"SET_TOTAL_PAGE_COUNT":return y({},e,{totalFilmsCount:t.count})}return e},form:ne.a}),oe=Object(ae.d)(ie,Object(ae.a)(re.a));o.a.render(r.a.createElement(h.a,{store:oe},r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,t,a){e.exports={filmsContainer:"FilmItem_filmsContainer__139wN",filmsAlign:"FilmItem_filmsAlign__2sTQl",frontInfo:"FilmItem_frontInfo__sZwlM",frontInfoYear:"FilmItem_frontInfoYear__3vcdN",filmPoster:"FilmItem_filmPoster__2IsDu",title:"FilmItem_title__2dm-j",yearTitle:"FilmItem_yearTitle__1Yq-J"}},79:function(e,t,a){e.exports={detail:"DetailsPage_detail__3SYna",back:"DetailsPage_back__3wIH4"}}},[[151,1,2]]]);
//# sourceMappingURL=main.d6edb989.chunk.js.map